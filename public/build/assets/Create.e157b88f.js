import{L as C}from"./Admin.b5dfe990.js";import{H as z,L as T,r as J,m as U,a as k,o as l,c as n,b as _,w as j,d as e,e as P,f as c,a2 as y,t as m,g as d,F as E,s as B,q as b,h as S,i as M,j as A}from"./app.c6958972.js";import{S as L}from"./sweetalert2.all.1d02a522.js";import{E as D}from"./Editor.d079d9f6.js";import{_ as G}from"./_plugin-vue_export-helper.cdc0426e.js";const I={layout:C,components:{Head:z,Link:T,Editor:D},props:{errors:Object,exam:Object},setup(w){const o=J({question:"",option_1:"",option_2:"",option_3:"",option_4:"",option_5:"",question_type:"single",media_type:"none",answer:"1",answers:[],essay_answer:"",question_image:null,audio_file:null}),s=U(null),t=U(null),g={a:"\u3042",i:"\u3044",u:"\u3046",e:"\u3048",o:"\u304A",ka:"\u304B",ki:"\u304D",ku:"\u304F",ke:"\u3051",ko:"\u3053",ga:"\u304C",gi:"\u304E",gu:"\u3050",ge:"\u3052",go:"\u3054",sa:"\u3055",shi:"\u3057",su:"\u3059",se:"\u305B",so:"\u305D",za:"\u3056",ji:"\u3058",zu:"\u305A",ze:"\u305C",zo:"\u305E",ta:"\u305F",chi:"\u3061",tsu:"\u3064",te:"\u3066",to:"\u3068",da:"\u3060",di:"\u3062",du:"\u3065",de:"\u3067",do:"\u3069",na:"\u306A",ni:"\u306B",nu:"\u306C",ne:"\u306D",no:"\u306E",ha:"\u306F",hi:"\u3072",hu:"\u3075",he:"\u3078",ho:"\u307B",ba:"\u3070",bi:"\u3073",bu:"\u3076",be:"\u3079",bo:"\u307C",pa:"\u3071",pi:"\u3074",pu:"\u3077",pe:"\u307A",po:"\u307D",ma:"\u307E",mi:"\u307F",mu:"\u3080",me:"\u3081",mo:"\u3082",ya:"\u3084",yu:"\u3086",yo:"\u3088",ra:"\u3089",ri:"\u308A",ru:"\u308B",re:"\u308C",ro:"\u308D",wa:"\u308F",wi:"\u3090",we:"\u3091",wo:"\u3092",n:"\u3093",kya:"\u304D\u3083",kyu:"\u304D\u3085",kyo:"\u304D\u3087",gya:"\u304E\u3083",gyu:"\u304E\u3085",gyo:"\u304E\u3087",sha:"\u3057\u3083",shu:"\u3057\u3085",sho:"\u3057\u3087",ja:"\u3058\u3083",ju:"\u3058\u3085",jo:"\u3058\u3087",cha:"\u3061\u3083",chu:"\u3061\u3085",cho:"\u3061\u3087",nya:"\u306B\u3083",nyu:"\u306B\u3085",nyo:"\u306B\u3087",hya:"\u3072\u3083",hyu:"\u3072\u3085",hyo:"\u3072\u3087",bya:"\u3073\u3083",byu:"\u3073\u3085",byo:"\u3073\u3087",pya:"\u3074\u3083",pyu:"\u3074\u3085",pyo:"\u3074\u3087",mya:"\u307F\u3083",myu:"\u307F\u3085",myo:"\u307F\u3087",rya:"\u308A\u3083",ryu:"\u308A\u3085",ryo:"\u308A\u3087",fu:"\u3075",si:"\u3057",ti:"\u3061",tu:"\u3064",zi:"\u3058",nn:"\u3093",xya:"\u3083",xyu:"\u3085",xyo:"\u3087",xa:"\u3041",xi:"\u3043",xu:"\u3045",xe:"\u3047",xo:"\u3049",xtu:"\u3063",xtsu:"\u3063",ltu:"\u3063",ltsu:"\u3063",xwa:"\u308E",xke:"\u3096",xka:"\u3095"},v=a=>{let r="",u=0;for(;u<a.length;){let p=!1;for(let h=4;h>=1;h--)if(u+h<=a.length){const V=a.substring(u,u+h);if(g[V]){r+=g[V],u+=h,p=!0;break}}p||(r+=a[u],u++)}return r};return{form:o,imagePreview:s,audioPreview:t,handleImageUpload:a=>{const r=a.target.files[0];r&&(o.question_image=r,s.value=URL.createObjectURL(r),o.audio_file=null,t.value=null)},handleAudioUpload:a=>{const r=a.target.files[0];r&&(o.audio_file=r,t.value=URL.createObjectURL(r),o.question_image=null,s.value=null)},setupTinyMCEJapanese:a=>{a.on("keyup",r=>{const u=a.getContent({format:"text"}),p=v(u);if(u!==p){const h=a.selection.getBookmark();a.setContent(p),a.selection.moveToBookmark(h)}})},submit:()=>{const a=new FormData;a.append("question",o.question),a.append("question_type",o.question_type),a.append("media_type",o.media_type),o.question_type==="single"||o.question_type==="multiple"?(a.append("option_1",o.option_1),a.append("option_2",o.option_2),a.append("option_3",o.option_3),a.append("option_4",o.option_4),a.append("option_5",o.option_5),o.question_type==="single"?a.append("answer",o.answer):o.answers.forEach(r=>{a.append("answers[]",r)})):o.question_type==="essay"&&a.append("essay_answer",o.essay_answer),o.media_type==="image"&&o.question_image&&a.append("question_image",o.question_image),o.media_type==="audio"&&o.audio_file&&a.append("audio_file",o.audio_file),S.Inertia.post(`/admin/exams/${w.exam.id}/questions/store`,a,{forceFormData:!0,onSuccess:()=>{L.fire({title:"Success!",text:"Soal Ujian Berhasil Disimpan!",icon:"success",showConfirmButton:!1,timer:2e3})}})}}}},F=e("title",null,"Tambah Soal Ujian - Aplikasi Ujian Online",-1),H={class:"container-fluid mb-5 mt-5"},N={class:"row"},O={class:"col-md-12"},R=e("i",{class:"fa fa-long-arrow-alt-left me-2"},null,-1),K=M(" Kembali"),W={class:"card border-0 shadow"},Q={class:"card-body"},X=e("h5",null,[e("i",{class:"fa fa-question-circle"}),M(" Tambah Soal Ujian")],-1),Y=e("hr",null,null,-1),Z={class:"mb-3"},$=e("label",{class:"form-label fw-bold"},"Tipe Soal",-1),ee={class:"d-flex"},oe={class:"form-check me-4"},te=e("label",{class:"form-check-label",for:"single"}," Jawaban Tunggal ",-1),ie={class:"form-check me-4"},se=e("label",{class:"form-check-label",for:"multiple"}," Jawaban Ganda ",-1),ae={class:"form-check"},le=e("label",{class:"form-check-label",for:"essay"}," Essay ",-1),ne={key:0,class:"mt-2 text-danger"},de={class:"mb-3"},re=e("label",{class:"form-label fw-bold"},"Tipe Media",-1),me={class:"d-flex"},ce={class:"form-check me-4"},ue=e("label",{class:"form-check-label",for:"none"}," Tanpa Media ",-1),_e={class:"form-check me-4"},fe=e("label",{class:"form-check-label",for:"image"}," Gambar ",-1),he={class:"form-check"},ye=e("label",{class:"form-check-label",for:"audio"}," Audio (Listening) ",-1),pe={key:0,class:"mt-2 text-danger"},be={key:0,class:"mb-3"},ge=e("label",{class:"form-label fw-bold"},"Upload Gambar",-1),ke=e("small",{class:"text-muted"},"Format: JPG, JPEG, PNG, GIF. Maksimal: 2MB",-1),we={key:0,class:"mt-2 text-danger"},ve={key:1,class:"mt-3"},xe=["src"],qe={key:1,class:"mb-3"},Ve=e("label",{class:"form-label fw-bold"},"Upload Audio (Listening)",-1),Ue=e("small",{class:"text-muted"},"Format: MP3, WAV, OGG. Maksimal: 10MB",-1),je={key:0,class:"mt-2 text-danger"},Ee={key:1,class:"mt-3"},Me=["src"],Ce={class:"table-responsive mb-4"},ze={class:"table table-bordered table-centered table-nowrap mb-0 rounded"},Te=e("td",{style:{width:"20%"},class:"fw-bold"},"Soal",-1),Je={key:0,class:"mt-2 text-danger"},Pe=e("td",{style:{width:"20%"},class:"fw-bold"},"Pilihan A",-1),Be={key:0,class:"mt-2 text-danger"},Se=e("td",{style:{width:"20%"},class:"fw-bold"},"Pilihan B",-1),Ae={key:0,class:"mt-2 text-danger"},Le=e("td",{style:{width:"20%"},class:"fw-bold"},"Pilihan C",-1),De={key:0,class:"mt-2 text-danger"},Ge=e("td",{style:{width:"20%"},class:"fw-bold"},"Pilihan D",-1),Ie={key:0,class:"mt-2 text-danger"},Fe=e("td",{style:{width:"20%"},class:"fw-bold"},"Pilihan E",-1),He={key:0,class:"mt-2 text-danger"},Ne={key:0},Oe=e("td",{style:{width:"20%"},class:"fw-bold"},"Jawaban Benar",-1),Re=A('<option value="1">A</option><option value="2">B</option><option value="3">C</option><option value="4">D</option><option value="5">E</option>',5),Ke=[Re],We={key:0,class:"mt-2 text-danger"},Qe={key:1},Xe=e("td",{style:{width:"20%"},class:"fw-bold"},"Jawaban Benar",-1),Ye={class:"form-check"},Ze=e("label",{class:"form-check-label",for:"answer1"}," A ",-1),$e={class:"form-check"},eo=e("label",{class:"form-check-label",for:"answer2"}," B ",-1),oo={class:"form-check"},to=e("label",{class:"form-check-label",for:"answer3"}," C ",-1),io={class:"form-check"},so=e("label",{class:"form-check-label",for:"answer4"}," D ",-1),ao={class:"form-check"},lo=e("label",{class:"form-check-label",for:"answer5"}," E ",-1),no={key:0,class:"mt-2 text-danger"},ro={key:1},mo=e("td",{style:{width:"20%"},class:"fw-bold"},"Kunci Jawaban Essay",-1),co={key:0,class:"mt-2 text-danger"},uo=e("small",{class:"text-muted"},"Masukkan kunci jawaban atau panduan penilaian untuk soal essay ini.",-1),_o=e("button",{type:"submit",class:"btn btn-md btn-primary border-0 shadow me-2"},"Simpan",-1),fo=e("button",{type:"reset",class:"btn btn-md btn-warning border-0 shadow"},"Reset",-1);function ho(w,o,s,t,g,v){const x=k("Head"),q=k("Link"),f=k("Editor");return l(),n(E,null,[_(x,null,{default:j(()=>[F]),_:1}),e("div",H,[e("div",N,[e("div",O,[_(q,{href:`/admin/exams/${s.exam.id}`,class:"btn btn-md btn-primary border-0 shadow mb-3",type:"button"},{default:j(()=>[R,K]),_:1},8,["href"]),e("div",W,[e("div",Q,[X,Y,e("form",{onSubmit:o[21]||(o[21]=P((...i)=>t.submit&&t.submit(...i),["prevent"])),enctype:"multipart/form-data"},[e("div",Z,[$,e("div",ee,[e("div",oe,[c(e("input",{class:"form-check-input",type:"radio","onUpdate:modelValue":o[0]||(o[0]=i=>t.form.question_type=i),value:"single",id:"single",checked:""},null,512),[[y,t.form.question_type]]),te]),e("div",ie,[c(e("input",{class:"form-check-input",type:"radio","onUpdate:modelValue":o[1]||(o[1]=i=>t.form.question_type=i),value:"multiple",id:"multiple"},null,512),[[y,t.form.question_type]]),se]),e("div",ae,[c(e("input",{class:"form-check-input",type:"radio","onUpdate:modelValue":o[2]||(o[2]=i=>t.form.question_type=i),value:"essay",id:"essay"},null,512),[[y,t.form.question_type]]),le])]),s.errors.question_type?(l(),n("div",ne,m(s.errors.question_type),1)):d("",!0)]),e("div",de,[re,e("div",me,[e("div",ce,[c(e("input",{class:"form-check-input",type:"radio","onUpdate:modelValue":o[3]||(o[3]=i=>t.form.media_type=i),value:"none",id:"none",checked:""},null,512),[[y,t.form.media_type]]),ue]),e("div",_e,[c(e("input",{class:"form-check-input",type:"radio","onUpdate:modelValue":o[4]||(o[4]=i=>t.form.media_type=i),value:"image",id:"image"},null,512),[[y,t.form.media_type]]),fe]),e("div",he,[c(e("input",{class:"form-check-input",type:"radio","onUpdate:modelValue":o[5]||(o[5]=i=>t.form.media_type=i),value:"audio",id:"audio"},null,512),[[y,t.form.media_type]]),ye])]),s.errors.media_type?(l(),n("div",pe,m(s.errors.media_type),1)):d("",!0)]),t.form.media_type==="image"?(l(),n("div",be,[ge,e("input",{type:"file",class:"form-control",onInput:o[6]||(o[6]=(...i)=>t.handleImageUpload&&t.handleImageUpload(...i)),accept:"image/*"},null,32),ke,s.errors.question_image?(l(),n("div",we,m(s.errors.question_image),1)):d("",!0),t.imagePreview?(l(),n("div",ve,[e("img",{src:t.imagePreview,class:"img-fluid",style:{"max-height":"200px"}},null,8,xe)])):d("",!0)])):d("",!0),t.form.media_type==="audio"?(l(),n("div",qe,[Ve,e("input",{type:"file",class:"form-control",onInput:o[7]||(o[7]=(...i)=>t.handleAudioUpload&&t.handleAudioUpload(...i)),accept:"audio/*"},null,32),Ue,s.errors.audio_file?(l(),n("div",je,m(s.errors.audio_file),1)):d("",!0),t.audioPreview?(l(),n("div",Ee,[e("audio",{controls:"",src:t.audioPreview},null,8,Me)])):d("",!0)])):d("",!0),e("div",Ce,[e("table",ze,[e("tbody",null,[e("tr",null,[Te,e("td",null,[_(f,{"api-key":"dwq3i99zdbda10alithjifi49cxh7qnk222xfozi26pdxv3o",modelValue:t.form.question,"onUpdate:modelValue":o[8]||(o[8]=i=>t.form.question=i),init:{menubar:!1,plugins:"lists link image emoticons",toolbar:"styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist | link image emoticons",setup:t.setupTinyMCEJapanese}},null,8,["modelValue","init"]),s.errors.question?(l(),n("div",Je,m(s.errors.question),1)):d("",!0)])]),t.form.question_type==="single"||t.form.question_type==="multiple"?(l(),n(E,{key:0},[e("tr",null,[Pe,e("td",null,[_(f,{"api-key":"dwq3i99zdbda10alithjifi49cxh7qnk222xfozi26pdxv3o",modelValue:t.form.option_1,"onUpdate:modelValue":o[9]||(o[9]=i=>t.form.option_1=i),init:{height:130,menubar:!1,plugins:"lists link image emoticons",toolbar:"styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist | link image emoticons",setup:t.setupTinyMCEJapanese}},null,8,["modelValue","init"]),s.errors.option_1?(l(),n("div",Be,m(s.errors.option_1),1)):d("",!0)])]),e("tr",null,[Se,e("td",null,[_(f,{"api-key":"dwq3i99zdbda10alithjifi49cxh7qnk222xfozi26pdxv3o",modelValue:t.form.option_2,"onUpdate:modelValue":o[10]||(o[10]=i=>t.form.option_2=i),init:{height:130,menubar:!1,plugins:"lists link image emoticons",toolbar:"styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist | link image emoticons",setup:t.setupTinyMCEJapanese}},null,8,["modelValue","init"]),s.errors.option_2?(l(),n("div",Ae,m(s.errors.option_2),1)):d("",!0)])]),e("tr",null,[Le,e("td",null,[_(f,{"api-key":"dwq3i99zdbda10alithjifi49cxh7qnk222xfozi26pdxv3o",modelValue:t.form.option_3,"onUpdate:modelValue":o[11]||(o[11]=i=>t.form.option_3=i),init:{height:130,menubar:!1,plugins:"lists link image emoticons",toolbar:"styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist | link image emoticons",setup:t.setupTinyMCEJapanese}},null,8,["modelValue","init"]),s.errors.option_3?(l(),n("div",De,m(s.errors.option_3),1)):d("",!0)])]),e("tr",null,[Ge,e("td",null,[_(f,{"api-key":"dwq3i99zdbda10alithjifi49cxh7qnk222xfozi26pdxv3o",modelValue:t.form.option_4,"onUpdate:modelValue":o[12]||(o[12]=i=>t.form.option_4=i),init:{height:130,menubar:!1,plugins:"lists link image emoticons",toolbar:"styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist | link image emoticons",setup:t.setupTinyMCEJapanese}},null,8,["modelValue","init"]),s.errors.option_4?(l(),n("div",Ie,m(s.errors.option_4),1)):d("",!0)])]),e("tr",null,[Fe,e("td",null,[_(f,{"api-key":"dwq3i99zdbda10alithjifi49cxh7qnk222xfozi26pdxv3o",modelValue:t.form.option_5,"onUpdate:modelValue":o[13]||(o[13]=i=>t.form.option_5=i),init:{height:130,menubar:!1,plugins:"lists link image emoticons",toolbar:"styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist | link image emoticons",setup:t.setupTinyMCEJapanese}},null,8,["modelValue","init"]),s.errors.option_5?(l(),n("div",He,m(s.errors.option_5),1)):d("",!0)])]),t.form.question_type==="single"?(l(),n("tr",Ne,[Oe,e("td",null,[c(e("select",{class:"form-control","onUpdate:modelValue":o[14]||(o[14]=i=>t.form.answer=i)},Ke,512),[[B,t.form.answer]]),s.errors.answer?(l(),n("div",We,m(s.errors.answer),1)):d("",!0)])])):d("",!0),t.form.question_type==="multiple"?(l(),n("tr",Qe,[Xe,e("td",null,[e("div",Ye,[c(e("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":o[15]||(o[15]=i=>t.form.answers=i),value:"1",id:"answer1"},null,512),[[b,t.form.answers]]),Ze]),e("div",$e,[c(e("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":o[16]||(o[16]=i=>t.form.answers=i),value:"2",id:"answer2"},null,512),[[b,t.form.answers]]),eo]),e("div",oo,[c(e("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":o[17]||(o[17]=i=>t.form.answers=i),value:"3",id:"answer3"},null,512),[[b,t.form.answers]]),to]),e("div",io,[c(e("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":o[18]||(o[18]=i=>t.form.answers=i),value:"4",id:"answer4"},null,512),[[b,t.form.answers]]),so]),e("div",ao,[c(e("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":o[19]||(o[19]=i=>t.form.answers=i),value:"5",id:"answer5"},null,512),[[b,t.form.answers]]),lo]),s.errors.answers?(l(),n("div",no,m(s.errors.answers),1)):d("",!0)])])):d("",!0)],64)):d("",!0),t.form.question_type==="essay"?(l(),n("tr",ro,[mo,e("td",null,[_(f,{"api-key":"dwq3i99zdbda10alithjifi49cxh7qnk222xfozi26pdxv3o",modelValue:t.form.essay_answer,"onUpdate:modelValue":o[20]||(o[20]=i=>t.form.essay_answer=i),init:{height:200,menubar:!1,plugins:"lists link image emoticons",toolbar:"styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist | link image emoticons",setup:t.setupTinyMCEJapanese}},null,8,["modelValue","init"]),s.errors.essay_answer?(l(),n("div",co,m(s.errors.essay_answer),1)):d("",!0),uo])])):d("",!0)])])]),_o,fo],32)])])])])])],64)}const wo=G(I,[["render",ho]]);export{wo as default};
